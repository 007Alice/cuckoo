{"version":3,"sources":["app.js"],"names":["CuckooWeb","bytes","si","thresh","Math","abs","units","u","length","toFixed","url","params","callback","errback","beforesend","data","JSON","stringify","$","ajax","type","contentType","dataType","timeout","beforeSend","success","fail","err","console","log","jsondate","date","Date","month","getMonth","day","getDate","hour","getHours","min","getMinutes","sec","getSeconds","getFullYear","document","ready","popover","alertbox","msg","context","attr_id","String","prototype","capitalize","charAt","toUpperCase","slice"],"mappings":"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","file":"app.js","sourcesContent":["/*\n * Copyright (C) 2010-2013 Claudio Guarnieri.\n * Copyright (C) 2014-2016 Cuckoo Foundation.\n * This file is part of Cuckoo Sandbox - http://www.cuckoosandbox.org\n * See the file 'docs/LICENSE' for copying permission.\n *\n */\n\n/**\n * CuckooWeb miscellaneous functions class.\n */\nclass CuckooWeb {\n    // mpen @ http://stackoverflow.com/a/14919494/2054778\n    static human_size(bytes, si){\n        var thresh = si ? 1000 : 1024;\n        if(Math.abs(bytes) < thresh) {\n            return bytes + ' B';\n        }\n        var units = si\n            ? ['kB','MB','GB','TB','PB','EB','ZB','YB']\n            : ['KiB','MiB','GiB','TiB','PiB','EiB','ZiB','YiB'];\n        var u = -1;\n        do {\n            bytes /= thresh;\n            ++u;\n        } while(Math.abs(bytes) >= thresh && u < units.length - 1);\n        return bytes.toFixed(1)+' '+units[u];\n    }\n\n    static api_post(url, params, callback, errback, beforesend){\n        let data = JSON.stringify(params);\n\n        $.ajax({\n            type: \"post\",\n            contentType: \"application/json\",\n            url: url,\n            dataType: \"json\",\n            data: data,\n            timeout: 20000,\n            beforeSend: function(){\n                if(beforesend){\n                    beforesend()\n                }\n            },\n            success: function(data){\n                if(callback) {\n                    callback(data);\n                }\n            }\n        }).fail(function(err){\n            console.log(`ajax post error: ${err}`);\n\n            if(errback) {\n                errback(err);\n            }\n        });\n    }\n\n    static getFormattedDate(jsondate) {\n        var date = new Date(jsondate);\n\n        var month = date.getMonth() + 1;\n        var day = date.getDate();\n        var hour = date.getHours();\n        var min = date.getMinutes();\n        var sec = date.getSeconds();\n\n        month = (month < 10 ? \"0\" : \"\") + month;\n        day = (day < 10 ? \"0\" : \"\") + day;\n        hour = (hour < 10 ? \"0\" : \"\") + hour;\n        min = (min < 10 ? \"0\" : \"\") + min;\n        sec = (sec < 10 ? \"0\" : \"\") + sec;\n\n        return date.getFullYear() + \"-\" + month + \"-\" + day + \" \" +  hour + \":\" + min;\n    }\n}\n\n$(document).ready(function() {\n    $(\"[data-toggle=popover]\").popover();\n});\n\nfunction alertbox(msg, context, attr_id){\n    if(context) { context = `alert-${context}`; }\n    if(attr_id) { attr_id = `id=\"${attr_id}\"`; }\n    return `<div ${attr_id} class=\"alert ${context} signature\">${msg}</div>`;\n}\n\nString.prototype.capitalize = function() {\n    return this.charAt(0).toUpperCase() + this.slice(1);\n};"]}